<div class="container">
  <h1>Publishers</h1>
  <%= link_to 'Back to dashboard', dashboard_path %>
  <%= link_to 'New Publisher', new_publisher_path %>
    <div class="container">
    <div class="container">
      <%= form_with url: publishers_path, method: :get, html: {class: 'm-4 d-flex gap-3' } do |f| %>
        <%= f.text_field :query,
                          class: "form-control",
                          placeholder: 'Search for a Publisher',
                          value: params[:query]
                          %>
        <%= f.submit "Search", class: "btn btn-flat" %>
        <% end %>
    </div>
  </div>
  <table class="border">
    <thead>
      <tr>
        <th>Name</th>
        <th>Amount of Books</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- Insert Publisher data dynamically using your Rails code -->
      <% @publishers.each do |publisher| %>
        <tr>
          <td><%= publisher.name %></td>
          <td><%= link_to publisher.books.count, publisher_path(publisher) %></td>
          <td>
            <%= link_to 'Show', publisher %>
            <%= link_to 'Edit', edit_publisher_path(publisher) %>
            <%= button_to 'Delete', publisher, method: :delete, data: { confirm: 'Are you sure?'} %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
